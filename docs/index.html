<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Assignment 2 part1: Documentation of assignment_2_part1 package</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Assignment 2 part1
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Documentation of assignment_2_part1 package </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="intro_sec"></a>
How to run the code</h1>
<p>To run the code the following things are needed:</p>
<ul>
<li>ROS noetic</li>
<li>package assignment_2_2024</li>
</ul>
<p>After cloning the needed packages in the workspace and after sourcing the right setup files, the workspace has to be compiled with catkin make.</p>
<p>Then to run the nodes you have to go in the workspace folder and run the following command:</p>
<div class="fragment"><div class="line">roslaunch assignment_2_part1 assign2_p1_sim.launch</div>
</div><!-- fragment --><p>The other relevant commands are the followings:</p>
<div class="fragment"><div class="line">rostopic echo /robot_state</div>
</div><!-- fragment --><p>To listen to the topic where the custom message is sent. And the last one is:</p>
<div class="fragment"><div class="line">rosservice call last_target_coord</div>
</div><!-- fragment --><p>to call the custom service.</p>
<h1><a class="anchor" id="wihd_sec"></a>
What I have done</h1>
<p>I have built a ROS package called assignment_2_part1, that contains the following things:</p>
<ul>
<li>In the folder src: two .cpp files that correspond to the two nodes of the package. They are <a class="el" href="action__server__client_8cpp.html" title="This node implements an action client for the action server in the package &#39;assignment_2_2024&#39;.">action_server_client.cpp</a> and <a class="el" href="last__target__srv_8cpp.html" title="This node implements a service that returns the coordinates of the last target set by the user.">last_target_srv.cpp</a>.</li>
<li>In the folder srv: target_coord.srv, a custom service.</li>
<li>In the folder launch: assign2_p1_sim.launch, a file to launch the whole simulation.</li>
<li>In the folder msg: state_pos_vel.msg, a custom message.</li>
</ul>
<h1><a class="anchor" id="nodes_sec"></a>
Nodes</h1>
<ul>
<li><b><a class="el" href="action__server__client_8cpp.html" title="This node implements an action client for the action server in the package &#39;assignment_2_2024&#39;.">action_server_client.cpp</a></b></li>
<li><b><a class="el" href="last__target__srv_8cpp.html" title="This node implements a service that returns the coordinates of the last target set by the user.">last_target_srv.cpp</a></b></li>
</ul>
<h1><a class="anchor" id="node_1_sec"></a>
Node 1: action_server_client.cpp</h1>
<p>This node implements an action client for the action server given in the package assignment_2_2024. The node that does the following things:</p>
<ul>
<li>allows the user to set a target, using x and y coordinates;</li>
<li>allows the user to cancel the target, stopping the robot. If this happens, the message "The   current goal has been canceled. The robot will stop." is written on the terminal;</li>
<li>allows the user to close the node;</li>
<li>permits to know when the target is reached, by reading the feedback message sent by the action server. If this happens, the message "The target has been reached!" is written on the terminal;</li>
<li>publishes the robot position and velocity with a custom message (containing x, y, vel_x, vel_z). These informations are retrieved by a subscriber to the topic /odom. To handle the callback of the subscriber, the nodes launches a dedicated thread (for the ros::spin() instruction).</li>
</ul>
<h1><a class="anchor" id="node_2_sec"></a>
Node 2: last_target_srv.cpp</h1>
<p>This one is a service node and its objective is to return the coordinates of the last target set by the user, reading them from the topic /target_coordinates. This topic is updated by the previous node each time that a new target is set.</p>
<p>When the service is called its callback function reads the topic and returns the last values.</p>
<h1><a class="anchor" id="author_sec"></a>
Author</h1>
<p><b>Barbara Ratto</b> <br  />
 University of Genoa <br  />
 Research Track II Assignment 1</p>
<dl class="section date"><dt>Date</dt><dd>12/03/2025 </dd></dl>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
